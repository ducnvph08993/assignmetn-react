{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-basic-PT14315\\\\src\\\\pages\\\\views\\\\Admin\\\\EditCategory\\\\index.js\";\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useParams } from 'react-router-dom';\nimport firebase from '../../../../firebase';\nimport PropTypes from 'prop-types';\n\nconst EditCategory = ({\n  categories,\n  onEdit\n}) => {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  let id = useParams();\n  let redirect = useHistory();\n  const category = categories.find(category => category.id === id);\n\n  const onHandleEdit = data => {\n    let file = data.image[0];\n    let storageRef = firebase.storage().ref(`categories/${file.name}`);\n    storageRef.put(file).then(() => {\n      storageRef.getDownloadURL().then(url => {\n        console.log(url);\n        const newData = {\n          id,\n          ...data,\n          image: url\n        };\n        console.log(newData);\n        onEdit(newData);\n        redirect.push(\"/admin/categories\");\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, \"a\");\n};\n\nEditCategory.propTypes = {};\nexport default EditCategory;","map":{"version":3,"sources":["D:/react-basic-PT14315/src/pages/views/Admin/EditCategory/index.js"],"names":["React","useForm","useHistory","useParams","firebase","PropTypes","EditCategory","categories","onEdit","register","handleSubmit","errors","id","redirect","category","find","onHandleEdit","data","file","image","storageRef","storage","ref","name","put","then","getDownloadURL","url","console","log","newData","push","propTypes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAD,KAA4B;AAC7C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCV,OAAO,EAAlD;AACA,MAAIW,EAAE,GAAGT,SAAS,EAAlB;AACA,MAAIU,QAAQ,GAAGX,UAAU,EAAzB;AAEA,QAAMY,QAAQ,GAAGP,UAAU,CAACQ,IAAX,CAAgBD,QAAQ,IAAIA,QAAQ,CAACF,EAAT,KAAgBA,EAA5C,CAAjB;;AAEA,QAAMI,YAAY,GAAIC,IAAD,IAAU;AAC3B,QAAIC,IAAI,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,CAAX;AACA,QAAIC,UAAU,GAAGhB,QAAQ,CAACiB,OAAT,GAAmBC,GAAnB,CAAwB,cAAaJ,IAAI,CAACK,IAAK,EAA/C,CAAjB;AAEAH,IAAAA,UAAU,CAACI,GAAX,CAAeN,IAAf,EAAqBO,IAArB,CAA0B,MAAM;AAC5BL,MAAAA,UAAU,CAACM,cAAX,GACKD,IADL,CACWE,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,cAAMG,OAAO,GAAG;AACZlB,UAAAA,EADY;AAEZ,aAAGK,IAFS;AAGZE,UAAAA,KAAK,EAAEQ;AAHK,SAAhB;AAKAC,QAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ;AACAtB,QAAAA,MAAM,CAACsB,OAAD,CAAN;AACAjB,QAAAA,QAAQ,CAACkB,IAAT,CAAc,mBAAd;AACH,OAXL;AAYH,KAbD;AAeH,GAnBD;;AAoBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AAKH,CAhCD;;AAkCAzB,YAAY,CAAC0B,SAAb,GAAyB,EAAzB;AAIA,eAAe1B,YAAf","sourcesContent":["import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport firebase from '../../../../firebase'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst EditCategory = ({ categories, onEdit }) => {\r\n    const { register, handleSubmit, errors } = useForm();\r\n    let id = useParams();\r\n    let redirect = useHistory();\r\n\r\n    const category = categories.find(category => category.id === id);\r\n\r\n    const onHandleEdit = (data) => {\r\n        let file = data.image[0];\r\n        let storageRef = firebase.storage().ref(`categories/${file.name}`);\r\n\r\n        storageRef.put(file).then(() => {\r\n            storageRef.getDownloadURL()\r\n                .then((url) => {\r\n                    console.log(url);\r\n                    const newData = {\r\n                        id,\r\n                        ...data,\r\n                        image: url\r\n                    }\r\n                    console.log(newData);\r\n                    onEdit(newData);\r\n                    redirect.push(\"/admin/categories\");\r\n                });\r\n        })\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            a\r\n        </div>\r\n    )\r\n}\r\n\r\nEditCategory.propTypes = {\r\n\r\n}\r\n\r\nexport default EditCategory\r\n"]},"metadata":{},"sourceType":"module"}