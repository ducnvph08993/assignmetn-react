{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-basic-PT14315\\\\src\\\\pages\\\\views\\\\Admin\\\\EditProduct\\\\index.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Editor } from '@tinymce/tinymce-react';\nimport firebase from '../../../../firebase';\nimport PropTypes from 'prop-types';\nimport Products from '../../Main/Products';\n\nconst EditProduct = ({\n  products,\n  onEdit\n}) => {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  let {\n    id\n  } = useParams();\n  let redirect = useHistory();\n  const product = products.find(product => product.id === id);\n\n  const onHandleSubmit = data => {\n    let file = data.image[0]; // console.log(file);\n\n    let storageRef = firebase.storage().ref(`products/${file.name}`);\n    storageRef.put(file).then(() => {\n      storageRef.getDownloadURL().then(url => {\n        const newData = {\n          id,\n          ...data,\n          image: url\n        };\n        console.log(newData);\n        onEdit(newData);\n        redirect.push('/admin/products');\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"a\");\n};\n\nEditProduct.propTypes = {};\nexport default EditProduct;","map":{"version":3,"sources":["D:/react-basic-PT14315/src/pages/views/Admin/EditProduct/index.js"],"names":["React","useState","useForm","useHistory","useParams","Editor","firebase","PropTypes","Products","EditProduct","products","onEdit","register","handleSubmit","errors","id","redirect","product","find","onHandleSubmit","data","file","image","storageRef","storage","ref","name","put","then","getDownloadURL","url","newData","console","log","push","propTypes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAA0B;AAC1C,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,MAAqCZ,OAAO,EAAlD;AACA,MAAI;AAAEa,IAAAA;AAAF,MAASX,SAAS,EAAtB;AACA,MAAIY,QAAQ,GAAGb,UAAU,EAAzB;AAEA,QAAMc,OAAO,GAAGP,QAAQ,CAACQ,IAAT,CAAcD,OAAO,IAAIA,OAAO,CAACF,EAAR,KAAeA,EAAxC,CAAhB;;AAEA,QAAMI,cAAc,GAAIC,IAAD,IAAU;AAC7B,QAAIC,IAAI,GAAGD,IAAI,CAACE,KAAL,CAAW,CAAX,CAAX,CAD6B,CAE7B;;AACA,QAAIC,UAAU,GAAGjB,QAAQ,CAACkB,OAAT,GAAmBC,GAAnB,CAAwB,YAAWJ,IAAI,CAACK,IAAK,EAA7C,CAAjB;AACAH,IAAAA,UAAU,CAACI,GAAX,CAAeN,IAAf,EAAqBO,IAArB,CAA0B,MAAM;AAC5BL,MAAAA,UAAU,CAACM,cAAX,GACKD,IADL,CACWE,GAAD,IAAS;AACX,cAAMC,OAAO,GAAG;AACZhB,UAAAA,EADY;AAEZ,aAAGK,IAFS;AAGZE,UAAAA,KAAK,EAAEQ;AAHK,SAAhB;AAKAE,QAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACApB,QAAAA,MAAM,CAACoB,OAAD,CAAN;AACAf,QAAAA,QAAQ,CAACkB,IAAT,CAAc,iBAAd;AACH,OAVL;AAWH,KAZD;AAaH,GAjBD;;AAmBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ;AAKH,CA/BD;;AAiCAzB,WAAW,CAAC0B,SAAZ,GAAwB,EAAxB;AAIA,eAAe1B,WAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useHistory, useParams } from \"react-router-dom\"\r\nimport { Editor } from '@tinymce/tinymce-react'\r\nimport firebase from '../../../../firebase'\r\nimport PropTypes from 'prop-types'\r\nimport Products from '../../Main/Products'\r\n\r\nconst EditProduct = ({ products, onEdit }) => {\r\n    const { register, handleSubmit, errors } = useForm();\r\n    let { id } = useParams();\r\n    let redirect = useHistory();\r\n\r\n    const product = products.find(product => product.id === id);\r\n\r\n    const onHandleSubmit = (data) => {\r\n        let file = data.image[0];\r\n        // console.log(file);\r\n        let storageRef = firebase.storage().ref(`products/${file.name}`);\r\n        storageRef.put(file).then(() => {\r\n            storageRef.getDownloadURL()\r\n                .then((url) => {\r\n                    const newData = {\r\n                        id,\r\n                        ...data,\r\n                        image: url\r\n                    }\r\n                    console.log(newData);\r\n                    onEdit(newData);\r\n                    redirect.push('/admin/products');\r\n                })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            a\r\n        </div >\r\n    )\r\n}\r\n\r\nEditProduct.propTypes = {\r\n\r\n}\r\n\r\nexport default EditProduct\r\n"]},"metadata":{},"sourceType":"module"}